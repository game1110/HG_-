<template>
  <div class="flex min-h-screen">
    <!-- Left Sidebar -->
    <aside class="w-[240px] flex-shrink-0 bg-slate-800 border-r border-slate-700 flex flex-col">
      <!-- Sidebar Header -->
      <div class="px-5 py-5 border-b border-slate-700">
        <span class="text-white font-bold text-lg tracking-wide">
          ğŸ› ï¸ å¾Œå°ç®¡ç†
        </span>
      </div>

      <!-- Navigation Groups -->
      <nav class="flex-1 px-3 py-4 space-y-6 overflow-y-auto">
        <!-- æ´»å‹•ç®¡ç† -->
        <div>
          <h3 class="px-3 mb-2 text-xs font-semibold text-slate-500 uppercase tracking-wider">
            æ´»å‹•ç®¡ç†
          </h3>
          <ul class="space-y-1">
            <li v-for="item in campaignLinks" :key="item.path">
              <router-link
                :to="item.path"
                :class="[
                  'block px-3 py-2 text-sm rounded-r transition-colors duration-200',
                  isActive(item.path)
                    ? 'bg-blue-600/30 text-blue-400 border-l-2 border-blue-400'
                    : 'text-slate-300 hover:bg-slate-700'
                ]"
              >
                {{ item.label }}
              </router-link>
            </li>
          </ul>
        </div>

        <!-- è³‡æ–™ç®¡ç† -->
        <div>
          <h3 class="px-3 mb-2 text-xs font-semibold text-slate-500 uppercase tracking-wider">
            è³‡æ–™ç®¡ç†
          </h3>
          <ul class="space-y-1">
            <li v-for="item in dataLinks" :key="item.path">
              <router-link
                :to="item.path"
                :class="[
                  'block px-3 py-2 text-sm rounded-r transition-colors duration-200',
                  isActive(item.path)
                    ? 'bg-blue-600/30 text-blue-400 border-l-2 border-blue-400'
                    : 'text-slate-300 hover:bg-slate-700'
                ]"
              >
                {{ item.label }}
              </router-link>
            </li>
          </ul>
        </div>

        <!-- å ±è¡¨ä¸­å¿ƒ -->
        <div>
          <h3 class="px-3 mb-2 text-xs font-semibold text-slate-500 uppercase tracking-wider">
            å ±è¡¨ä¸­å¿ƒ
          </h3>
          <ul class="space-y-1">
            <li v-for="item in reportLinks" :key="item.path">
              <router-link
                :to="item.path"
                :class="[
                  'block px-3 py-2 text-sm rounded-r transition-colors duration-200',
                  isActive(item.path)
                    ? 'bg-blue-600/30 text-blue-400 border-l-2 border-blue-400'
                    : 'text-slate-300 hover:bg-slate-700'
                ]"
              >
                {{ item.label }}
              </router-link>
            </li>
          </ul>
        </div>
      </nav>

      <!-- Back to Player Link -->
      <div class="px-5 py-4 border-t border-slate-700">
        <router-link
          to="/"
          class="text-slate-400 hover:text-white text-sm transition-colors duration-200"
        >
          â† æœƒå“¡ç«¯
        </router-link>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 bg-slate-900 min-h-screen">
      <div class="p-6">
        <router-view />
      </div>
    </main>
  </div>
</template>

<script setup>
import { useRoute } from 'vue-router'

const route = useRoute()

const campaignLinks = [
  { path: '/admin/campaigns', label: 'æ´»å‹•åˆ—è¡¨' },
  { path: '/admin/bonus', label: 'çå‹µç®¡ç†' },
]

const dataLinks = [
  { path: '/admin/buckets', label: 'æ¡¶ç®¡ç†' },
  { path: '/admin/players', label: 'ç©å®¶ç®¡ç†' },
  { path: '/admin/audit', label: 'å¯©è¨ˆæ—¥èªŒ' },
]

const reportLinks = [
  { path: '/reports/daily', label: 'éŒ¢åŒ…æ—¥å ±' },
  { path: '/reports/campaign', label: 'æ´»å‹•æˆæ•ˆ' },
  { path: '/reports/finance', label: 'è²¡å‹™å°å¸³' },
]

const isActive = (path) => {
  return route.path === path || route.path.startsWith(path + '/')
}
</script>
